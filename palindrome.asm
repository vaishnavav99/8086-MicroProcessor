.MODEL SMALL 
.STACK 100H 
.DATA 
  
; The string to be printed 
READSTR DB 'Enter String', '$'
PRINTSTR DB 'String is : ', '$'
NEW_LINE DB 10,13,'$'
STRING1 DB 'String is palindrome', '$'
STRING2 DB 'String is not palindrome', '$'

BUFFER DB 50 DUP(?)
  
.CODE 
.STARTUP
	MOV DX, OFFSET READSTR
	CALL DISPLAYMSG
	
	MOV DX, OFFSET NEW_LINE
	CALL DISPLAYMSG
	
	MOV SI, OFFSET BUFFER
	CALL READSTRING
	
	MOV DX, OFFSET PRINTSTR
	CALL DISPLAYMSG
	
	MOV DX, OFFSET BUFFER
	CALL DISPLAYMSG
	
	MOV DX, OFFSET NEW_LINE
	CALL DISPLAYMSG
	
	CALL PAL
	
	MOV DX, OFFSET NEW_LINE
	CALL DISPLAYMSG
	
.EXIT

DISPLAYMSG PROC NEAR
	MOV AH,09H
	INT 21H
	RET
DISPLAYMSG ENDP

READSTRING PROC NEAR
	PUSH AX
	PUSH SI
	
	INP:
		MOV AH,01H
		INT 21H
		
		MOV [SI], AL
		INC SI
		CMP AL, 0DH
		JNZ INP
		
		DEC SI
		DEC CL
		MOV AL, '$'
		MOV [SI], AL
		
	POP SI
	POP AX
	RET
READSTRING ENDP

PAL PROC NEAR
	PUSH SI
	MOV SI, OFFSET BUFFER
	COM:
		CMP [SI], '$'
		JZ MIN
		INC SI
		JMP COM
		
	MIN:
		DEC SI
		MOV DI, SI
		MOV SI, OFFSET BUFFER
		
	YES:
		MOV AL, [SI]
		CMP [DI], AL
		JNZ NO
		INC SI
		DEC DI
		CMP DI,SI
		JGE YES
		MOV DX, OFFSET STRING1
		CALL DISPLAYMSG
		
	POP SI
	RET
		
	NO:
		MOV DX, OFFSET STRING2
		CALL DISPLAYMSG
	POP SI
	RET
	
PAL ENDP
END